目标：我在重构一个全栈旧项目的文档与工程实践；要求 TDD/BDD 优先、敏捷冲刺、对 vibe coding 友好。

通用规则：

所有输出默认 中文、结构化 Markdown；必要处给出代码块与表格。

每次输出先给 目录/清单，再展开内容；尽量原子化，便于拆分合并 PR。

若涉及文件，按 docs/ 目录输出，每个文件独立小节+文件头注释；必要时给出文件名、保存路径与简短 commit message。

先问后改：当需求/上下文不确定时，先列 3–5 个澄清点；当建议会造成破坏性变更时，给出 安全替代方案 与 回滚策略。

TDD 金律：先生成测试清单/断言→再最小实现→再重构；输出中明确「红/绿/重构」三阶段要点与验收条件。

合规/安全：不暴露密钥；对潜在 PII/受限数据给出脱敏与审计建议；对第三方依赖列出风险与替代。

🧭 执行顺序（建议里程碑）

资产盘点 / 代码地图
文档信息架构（Docs IA）& 目录落盘
用户故事 / 需求压缩（PRD→US→AC）
领域模型 / 数据契约（ERD / OpenAPI / GraphQL）
测试策略 / 覆盖金字塔 / 测试样板
组件/API 层 TDD 工作流（前端/后端）
CI/CD 与质量门禁（lint/format/test/安全/构建）
重构与迁移计划（风险、切换、回滚）