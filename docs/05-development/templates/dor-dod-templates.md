# Definition of Ready (DoR) & Definition of Done (DoD) 模板

## 📋 概述

本文档定义了ClinWise EDC项目的就绪标准(DoR)和完成标准(DoD)，确保工作项在进入开发前已充分准备，在完成时达到发布质量。

**适用范围**: 所有用户故事、技术任务、缺陷修复
**执行标准**: 强制性检查，100%通过才能流转到下一阶段
**负责团队**: Scrum Master + 产品负责人 + 技术负责人

## 🚀 Definition of Ready (DoR) - 就绪标准

### DoR 检查清单模板

#### 📋 基本信息完整性检查

**工作项基本信息 DoR**:
- [ ] **编号唯一性**: 工作项编号格式正确且唯一 (如: US-COM-001, TECH-001, BUG-001)
- [ ] **标题清晰性**: 标题简洁明确，≤50字符，能准确概括需求
- [ ] **归属明确性**: 明确所属史诗(Epic)和功能模块
- [ ] **创建信息**: 创建日期、创建人、责任人信息完整
- [ ] **优先级设定**: MoSCoW分类明确且合理
- [ ] **业务价值**: 业务价值和影响描述清晰
- [ ] **状态标识**: 当前状态为"Ready"（通过DoR检查）

#### 📖 需求完整性检查

**用户故事格式 DoR**:
- [ ] **INVEST原则**: 独立、可协商、有价值、可估算、小、可测试
- [ ] **角色明确**: 用户角色在系统中存在且权限定义清楚
- [ ] **功能具体**: 功能需求具体明确，无歧义
- [ ] **价值清晰**: 业务价值陈述清楚，与业务目标对齐
- [ ] **依赖识别**: 技术和业务依赖已识别并文档化
- [ ] **非功能需求**: 性能、安全、合规要求明确定义

**验收标准 DoR**:
- [ ] **Gherkin格式**: 使用Given-When-Then格式编写
- [ ] **场景完整**: 包含正常、边界、异常场景
- [ ] **可测试性**: 所有标准都可以通过自动化或手工测试验证
- [ ] **可衡量**: 验收标准具体且可量化
- [ ] **需求对齐**: 验收标准完全覆盖用户故事需求

#### 🎨 设计就绪检查

**UI/UX设计 DoR**:
- [ ] **设计完成**: 相关页面和组件设计稿完成并通过评审
- [ ] **交互设计**: 用户流程和交互逻辑设计完整
- [ ] **设计规范**: 符合系统设计规范和品牌指南
- [ ] **响应式**: 移动端和桌面端适配方案确定
- [ ] **可用性**: 设计方案通过用户体验评估
- [ ] **设计标注**: 设计稿包含开发所需的所有标注信息

**技术设计 DoR**:
- [ ] **API设计**: 相关API端点设计完成并文档化
- [ ] **数据模型**: 数据库schema变更设计并评审通过
- [ ] **技术方案**: 实现方案技术评估完成
- [ ] **架构影响**: 架构变更影响评估完成
- [ ] **性能要求**: 性能指标明确且可测试
- [ ] **安全要求**: 安全要求分析并实施方案确定

#### 🏗️ 技术就绪检查

**开发环境 DoR**:
- [ ] **环境准备**: 开发环境配置完成且功能正常
- [ ] **依赖可用**: 所有技术依赖项已确认可用
- [ ] **工具配置**: 开发工具和IDE配置完成
- [ ] **数据准备**: 开发所需的测试数据已准备
- [ ] **文档访问**: 相关技术文档和API文档可访问

**技术依赖 DoR**:
- [ ] **外部服务**: 依赖的外部服务可用且稳定
- [ ] **库版本**: 第三方库版本兼容性确认
- [ ] **API兼容**: 上下游API接口兼容性确认
- [ ] **数据迁移**: 数据库变更迁移脚本准备（如需要）

#### 📊 估算和计划就绪

**工作量估算 DoR**:
- [ ] **故事点估算**: 团队共识估算，≤13故事点
- [ ] **工时分解**: 开发、测试、评审工时估算完成
- [ ] **复杂度评估**: 技术复杂度和业务复杂度评估
- [ ] **风险识别**: 实施风险识别并有应对方案
- [ ] **任务分解**: 工作项可分解为≤1天的具体任务

#### 📋 DoR检查表模板

```markdown
## DoR检查清单 - [工作项编号]

### 基本信息 (8/8 ✅)
- [ ] 编号唯一性
- [ ] 标题清晰性  
- [ ] 归属明确性
- [ ] 创建信息完整
- [ ] 优先级设定
- [ ] 业务价值描述
- [ ] 状态标识
- [ ] 依赖关系标识

### 需求完整性 (6/6 ✅)
- [ ] INVEST原则验证
- [ ] 角色权限明确
- [ ] 功能需求具体
- [ ] 业务价值清晰
- [ ] 验收标准完整
- [ ] 非功能需求明确

### 设计就绪 (4/4 ✅)
- [ ] UI设计完成
- [ ] 技术方案确定
- [ ] API设计文档
- [ ] 数据模型设计

### 技术就绪 (3/3 ✅)
- [ ] 开发环境就绪
- [ ] 技术依赖确认
- [ ] 测试数据准备

### 估算计划 (3/3 ✅)
- [ ] 工作量估算
- [ ] 风险识别
- [ ] 任务分解

**DoR总分**: __/24 (需100%通过)
**检查人**: ________________
**检查日期**: ________________
**状态**: [ ] 通过 [ ] 不通过
```

## ✅ Definition of Done (DoD) - 完成标准

### DoD 分级标准体系

#### Level 1: 功能完成标准

**基础功能实现 DoD**:
- [ ] **功能实现**: 所有验收标准100%满足
- [ ] **UI实现**: 界面实现符合设计规范
- [ ] **业务逻辑**: 业务规则正确实现
- [ ] **数据完整性**: 数据处理符合ALCOA+原则
- [ ] **异常处理**: 错误场景处理完整
- [ ] **边界条件**: 边界值和极限情况处理
- [ ] **用户体验**: 交互流程符合用户预期

#### Level 2: 质量门禁通过

**质量门禁 DoD** (参考质量门禁体系):
- [ ] **🔍 门禁1**: 代码质量检查通过
- [ ] **🧪 门禁2**: TDD测试检查通过  
- [ ] **🔗 门禁3**: 集成测试通过
- [ ] **🛡️ 门禁4**: 安全合规检查通过
- [ ] **🚀 门禁5**: 部署验证通过

#### Level 3: 业务验收完成

**业务交付 DoD**:
- [ ] **产品验收**: 产品负责人验收通过
- [ ] **用户测试**: 最终用户测试反馈积极
- [ ] **文档更新**: 相关文档同步更新
- [ ] **知识传递**: 技术知识点团队内分享

### 详细DoD标准

#### 🔍 代码质量标准

**代码实现 DoD**:
- [ ] **代码审查**: 同行评审完成，至少2人审核通过
- [ ] **编码规范**: 通过自动化代码规范检查(ESLint/golangci-lint)
- [ ] **代码重复**: 重复代码率 ≤ 3%
- [ ] **复杂度控制**: 圈复杂度 ≤ 10
- [ ] **技术债务**: 新增技术债务已识别并记录
- [ ] **安全扫描**: 静态代码安全扫描通过
- [ ] **性能优化**: 代码性能符合要求，无明显性能问题

#### 🧪 测试完整性标准

**TDD实践 DoD**:
- [ ] **TDD流程**: 遵循红-绿-重构TDD循环
- [ ] **单元测试**: 覆盖率 ≥ 90%，所有测试通过
- [ ] **集成测试**: API和数据库集成测试通过
- [ ] **E2E测试**: 关键用户流程E2E测试通过
- [ ] **性能测试**: 响应时间满足要求 (API ≤ 200ms)
- [ ] **安全测试**: 安全扫描和渗透测试通过
- [ ] **兼容性测试**: 多浏览器和设备兼容性验证

#### 📚 文档完整性标准

**文档更新 DoD**:
- [ ] **API文档**: Swagger/OpenAPI文档更新
- [ ] **代码注释**: 复杂逻辑有适当注释
- [ ] **技术文档**: 架构变更文档化
- [ ] **用户文档**: 用户操作指南更新(如需要)
- [ ] **测试文档**: 测试用例和测试报告完整

#### 🚀 部署就绪标准

**发布准备 DoD**:
- [ ] **本地验证**: 在本地环境完整验证功能
- [ ] **测试环境**: 成功部署到测试环境
- [ ] **数据迁移**: 数据库迁移脚本测试通过
- [ ] **配置管理**: 环境配置变更文档化
- [ ] **回滚方案**: 部署回滚方案准备并测试

#### ⚖️ 合规性标准

**法规合规 DoD** (ClinWise EDC特定):
- [ ] **21 CFR Part 11**: 电子记录和电子签名合规
- [ ] **ALCOA+**: 数据完整性原则遵循
- [ ] **GCP**: 临床试验管理规范符合
- [ ] **审计追踪**: 操作日志和审计追踪完整
- [ ] **访问控制**: 权限控制验证通过
- [ ] **数据保护**: 敏感数据加密和保护

### DoD检查清单模板

#### 📋 Sprint级别DoD检查

```markdown
## Sprint DoD检查清单 - Sprint [编号]

### 目标达成 (4/4 ✅)
- [ ] Sprint目标完成率 ≥ 90%
- [ ] 用户故事完成率 ≥ 85%
- [ ] 质量指标达标
- [ ] 技术债务控制 (新增 ≤ 10%)

### 交付标准 (4/4 ✅)
- [ ] 可工作软件 (生产就绪)
- [ ] 用户价值创造
- [ ] 系统集成无缝
- [ ] 性能不退化

### 流程标准 (4/4 ✅)
- [ ] 敏捷实践执行 (TDD、代码审查、CI)
- [ ] 团队协作顺畅
- [ ] 用户反馈收集
- [ ] 持续改进执行

**Sprint DoD总分**: __/12 (需100%通过)
```

#### 📋 发布级别DoD检查

```markdown
## 发布DoD检查清单 - 版本 [v.x.x]

### 生产就绪 (4/4 ✅)
- [ ] 系统稳定性 (≥ 72小时无重大问题)
- [ ] 性能基准达标
- [ ] 安全认证通过
- [ ] 合规认证通过

### 运维支持 (4/4 ✅)
- [ ] 监控告警配置
- [ ] 备份恢复验证
- [ ] 应急预案准备
- [ ] 运维文档完整

### 用户支持 (4/4 ✅)
- [ ] 用户培训材料
- [ ] 帮助文档更新
- [ ] 支持渠道建立
- [ ] 变更通知完成

**发布DoD总分**: __/12 (需100%通过)
```

## 📊 DoR/DoD质量度量

### DoR效果指标

```yaml
dor_metrics:
  readiness_score: "DoR检查通过率"
  scope_creep: "需求范围蠕变率 (< 10%)"
  development_efficiency: "开发阶段返工率 (< 5%)"
  team_velocity_stability: "团队速度方差 (< 20%)"
  story_completion_rate: "故事完成率 (> 90%)"
```

### DoD效果指标

```yaml
dod_metrics:
  defect_escape_rate: "缺陷逃逸率 (< 2%)"
  production_incidents: "生产事故 (< 1/Sprint)"
  customer_satisfaction: "客户满意度 (≥ 4.0/5.0)"
  time_to_market: "上市时间缩短百分比"
  technical_debt_growth: "技术债务增长率 (< 10%)"
```

## 🔄 DoR/DoD持续改进

### 改进机制

#### 每Sprint评估
- [ ] **DoR/DoD执行效果评估**: 通过率、阻塞点分析
- [ ] **团队反馈收集**: 使用体验和改进建议
- [ ] **指标趋势分析**: 质量指标变化趋势
- [ ] **标准调整**: 基于实际情况优化标准

#### 工具支持改进
```yaml
dor_dod_tooling:
  automation:
    - "DoR检查清单自动化"
    - "DoD质量门禁集成"
    - "指标自动收集和报告"
    
  collaboration:
    - "团队协作看板集成"
    - "实时状态跟踪"
    - "通知和提醒机制"
```

### DoR/DoD成熟度模型

#### Level 1: 基础建立
- DoR/DoD标准制定并团队培训
- 基本检查清单使用
- 手工验证为主

#### Level 2: 流程规范
- DoR/DoD检查制度化
- 部分自动化检查
- 质量指标跟踪

#### Level 3: 持续优化
- 全面自动化检查
- 数据驱动改进
- 智能化质量预测

#### Level 4: 卓越实践
- AI辅助质量判断
- 自适应标准调整
- 行业最佳实践输出

## 📋 检查清单快速参考

### DoR快速检查 (24项)

```
✅ 基本信息 (8项): 编号、标题、归属、创建信息、优先级、业务价值、状态、依赖
✅ 需求完整性 (6项): INVEST、角色、功能、价值、验收标准、非功能需求  
✅ 设计就绪 (4项): UI设计、技术方案、API设计、数据模型
✅ 技术就绪 (3项): 环境、依赖、数据
✅ 估算计划 (3项): 工时、风险、任务分解
```

### DoD快速检查 (分级)

```
Level 1 - 功能完成 (7项): 功能、UI、业务逻辑、数据、异常、边界、体验
Level 2 - 质量门禁 (5项): 代码质量、TDD测试、集成测试、安全合规、部署验证  
Level 3 - 业务验收 (4项): 产品验收、用户测试、文档更新、知识传递
```

---

**文档版本**: v1.0  
**创建日期**: 2024-08-28  
**维护团队**: ClinWise EDC Scrum团队  
**审批人**: Scrum Master、产品负责人、技术负责人

**更新历史**:
- v1.0: 初始版本，包含完整的DoR/DoD标准和检查清单