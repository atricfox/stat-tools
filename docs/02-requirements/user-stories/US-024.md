# US-024: Unweighted GPA Calculator

## 用户故事概述

**作为**学生、教师或学术顾问  
**我希望**能够使用Unweighted GPA Calculator快速计算非加权GPA  
**以便于**评估学术表现、申请大学或制定学习计划，而无需考虑课程难度权重

## 验收标准

### AC-024.1: 基础计算功能
- [ ] 用户能够输入课程名称、学分数和成绩等级
- [ ] 系统自动计算Unweighted GPA（所有课程使用相同的4.0评分标准）
- [ ] 支持标准Letter Grade映射：A=4.0, B=3.0, C=2.0, D=1.0, F=0.0
- [ ] 实时计算和显示结果
- [ ] 显示总学分数、质量点数和最终GPA

### AC-024.2: 多种评分系统支持
- [ ] 支持4.0标准评分系统（默认）
- [ ] 支持加号减号成绩：A+ (4.0), A- (3.7), B+ (3.3), B- (2.7)等
- [ ] 支持Plus/Minus系统选择
- [ ] 用户可以切换评分系统，系统自动重新计算

### AC-024.3: 课程管理功能
- [ ] 动态添加和删除课程
- [ ] 编辑现有课程信息
- [ ] 批量清除所有课程
- [ ] 加载示例数据功能
- [ ] 支持最多20门课程输入

### AC-024.4: 数据验证和错误处理
- [ ] 验证学分数为正数（0.5-10学分范围）
- [ ] 验证成绩等级有效性
- [ ] 显示清晰的错误提示信息
- [ ] 自动过滤无效输入
- [ ] 提供输入格式指导

### AC-024.5: 结果显示和分析
- [ ] 显示统计结果卡片：最终GPA、总学分、总质量点数
- [ ] 提供成绩分布图表（A、B、C、D、F等级分布）
- [ ] 显示学术状态评估（优秀、良好、需要改进等）
- [ ] 计算步骤详细展示
- [ ] 支持不同精度设置（1-4位小数）

### AC-024.6: 导出和分享功能
- [ ] 支持CSV格式导出成绩单
- [ ] 支持JSON格式导出计算结果
- [ ] 支持PDF格式导出（包含图表和分析）
- [ ] 复制结果到剪贴板
- [ ] 社交媒体分享功能

### AC-024.7: 教育功能
- [ ] 提供GPA计算步骤说明
- [ ] 解释Unweighted vs Weighted GPA的区别
- [ ] 提供学术建议和改进提示
- [ ] 显示目标GPA达成所需成绩分析
- [ ] 包含常见问题解答

### AC-024.8: 响应式设计和可访问性
- [ ] 移动端友好的响应式界面
- [ ] 支持键盘导航
- [ ] 满足WCAG 2.1 AA标准
- [ ] 支持高对比度模式
- [ ] 屏幕阅读器兼容

## 技术需求

### 前端组件
- `UnweightedGPACalculatorClient.tsx` - 主计算器组件
- `UnweightedGPADataInput.tsx` - 专用数据输入组件
- `GPAGradingSystemSelector.tsx` - 复用现有评分系统选择器
- `UnweightedGPAResults.tsx` - 结果显示组件

### 后端逻辑
- `useUnweightedGPACalculation.ts` - 专用计算钩子
- `unweightedGpaCalculation.ts` - 核心计算逻辑
- 复用现有的GPA系统基础设施

### 数据结构
```typescript
interface UnweightedCourse {
  id: string;
  courseName: string;
  credits: number;
  letterGrade: string;
}

interface UnweightedGPAResult {
  gpa: number;
  totalCredits: number;
  qualityPoints: number;
  courses: UnweightedCourse[];
  gradeDistribution: Record<string, number>;
  academicStatus: string;
  calculationSteps: CalculationStep[];
}
```

## 设计规范

### 布局结构
1. **Header区域**: 标题、面包屑导航
2. **控制面板**: 评分系统选择器、精度控制
3. **数据输入区域**: 课程信息输入表格
4. **结果显示区域**: GPA结果卡片、图表分析
5. **计算步骤**: 可展开的详细计算过程
6. **帮助文档**: GPA计算说明和FAQ

### UI组件复用
- 复用现有的`CalculatorLayout`
- 复用`PrecisionControl`组件
- 复用`CalculationSteps`组件
- 复用`HelpSection`组件
- 调整`GPADataInput`为Unweighted特化版本

## 业务价值

### 用户痛点解决
- **学生**: 快速了解真实学术表现，无AP/IB加权干扰
- **教师**: 公平评估学生基础学术能力
- **升学顾问**: 准确计算大学申请GPA
- **家长**: 监控孩子基础学术水平

### 市场定位
- 作为Weighted GPA Calculator的互补产品
- 针对需要标准化评估的用户群体
- 满足大学申请和奖学金评估需求

## 优先级
**Priority**: P1 (高优先级)  
**Story Points**: 8  
**Sprint**: 待定  

## 依赖关系
- 依赖现有GPA Calculator基础设施
- 依赖评分系统配置数据
- 依赖图表可视化组件

## 验收测试用例

### Test Case 1: 基础GPA计算
**Given**: 用户输入3门课程：Math (4学分, A), English (3学分, B), History (3学分, C)  
**When**: 系统计算Unweighted GPA  
**Then**: 显示GPA = 3.0, 总学分 = 10, 质量点数 = 30

### Test Case 2: Plus/Minus系统
**Given**: 启用Plus/Minus系统，输入A- (3.7), B+ (3.3)课程  
**When**: 系统计算GPA  
**Then**: 正确映射成绩点数并计算GPA

### Test Case 3: 数据验证
**Given**: 用户输入无效学分数(-1)或无效成绩(X)  
**When**: 用户尝试计算  
**Then**: 显示相应错误提示，不进行计算

### Test Case 4: 导出功能
**Given**: 用户完成GPA计算  
**When**: 用户点击导出按钮  
**Then**: 成功生成CSV/JSON/PDF文件包含正确数据

## 注意事项

### 与Weighted GPA的区别
- Unweighted GPA不考虑课程难度系数
- 所有课程使用相同的4.0评分标准
- 更适合基础学术能力评估
- 部分大学申请优先考虑Unweighted GPA

### 数据准确性
- 严格验证学分和成绩输入
- 提供清晰的计算步骤说明
- 支持多种评分系统标准
- 确保计算精度和一致性

## 参考资料
- [美国大学GPA评分标准](https://www.collegeboard.org)
- [NACAC大学申请指南](https://www.nacacnet.org)
- 现有GPA Calculator实现参考